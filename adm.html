<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Administração - MecD</title>
  <!-- Link do estilo -->
  <link rel="stylesheet" href="style.css" />
  <!-- Link das caixas -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

  <!-- Icone da página -->
  <link rel="icon" type="image/png" href="/assets/gear-icon-png-2246.png" />
</head>

<body onload="iniciarBanco()">
  <header class="header">
    <div class="logo">
      <a href="index.html" class="logo"><img src="assets/gear-icon-png-2246.png" alt="" /></a>
      <h1>MecD</h1>
    </div>

    <div class="container">
      <div class="btn-menu">
        <label for="btn-menu">☰</label>
      </div>
    </div>
  </header>

  <main>
    <div class="iniciomain">
      <!--Gerenciamento de Mecanismos de Dano-->
      <section class="section">
        <h2>Gerenciamento de Mecanismos</h2>
        <div class="envio2">
          <h3>Adicionar e Editar filtros</h3>
          <button class="btn-adm" id="addFiltro">Adicionar Filtro</button>
          <br />
          <br />
          <button class="edit" id="editarFiltro">Editar Filtros</button>
        </div>
      </section>

      <!--Modal para adicionar filtro novo-->
      <div class="adicionarfiltros" style="display:none">
        <div class="modal-content">
          <span class="close">&times;</span>
          <form>
            <label for="name">Nome:</label>
            <input class="inputdois" type="text" id="name" name="name"
              placeholder="Tipo do seu filtro. Exemplo: Tipo de dano" required />

            <h4>Adicione, abaixo, as opções correspondentes a este filtro.</h4>

            <!--Inputs gerados através do Javascript-->
            <div id="novasOptions"></div>

            <input class="editum" type="button" value="Adicionar opção" onclick="addOption()" />
            <input class="btn-admm" type="button" value="Enviar" onclick="adicionarFiltro()" />
          </form>
        </div>
      </div>

      <!--Modal para editar filtros já criados-->
      <div class="editarfiltros" style="display: none;">
        <div class="modal-contentEdit">
          <span class="closeEdit">&times;</span>
          <h2>Preencha o formulário</h2>
          <form>
            <label for="name">Escolha um filtro para alterar suas opções:</label>
            <select name="nameEdit" id="nameEdit"></select>
            <br /><br />
            <div id="optionsEdit"></div>
            <br />
            <input class="editum" type="button" value="Adicionar opção" onclick="addOptionEdit()" />
            <input class="btn-admm" type="button" value="Enviar" onclick="editarFiltro()" />
            <input class="removedois" type="button" value="Deletar Filtro"
              onclick="mostrarModalConfirmacaoExclusao()" />
          </form>
        </div>
      </div>

      <!-- Modal de Confirmação de Exclusão do Filtro -->
      <!-- Modal de Confirmação de Exclusão do Filtro -->
      <div id="modalExclusao" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <h2>Confirmação de Exclusão</h2>
          <p>Por favor, digite "<span id="nomeFiltroSelecionado"></span>" para confirmar a exclusão:</p>
          <input type="text" id="nomeFiltroInput" placeholder="Nome do Filtro" />
          <div class="modal-buttons">
            <button id="btnDeletarFiltro" class="btn-confirm" disabled>Deletar</button>
            <button id="btnCancelModalExclusao" class="btn-cancel"
              onclick="fecharModalConfirmacaoExclusao()">Cancelar</button>
          </div>
        </div>
      </div>




      <!--Gerenciamento de Filtros-->
      <section class="section">
        <h2>Gerenciamento de Filtros</h2>
        <div class="envio">
          <button onclick="listarFiltros()">Adicionar Mecanismo</button>
          <button onclick="editarMecanismo()">Editar Mecanismo</button>
          <br>
          <br>
          <div id="addMecanismo" style="display:none;">
            <label for="input_nomeMecanismo_add">Nome do Mecanismo</label>
            <input type="text" id="input_nomeMecanismo_add"
              placeholder="Insira aqui o nome do Mecanismo de Dano. Exemplo: Corrosão Sob Isolamento">
            <label for="select_filtros">Selecione os filtros correspondentes a este Mecanismo de Dano</label>

            <div id="lista_filtros">

            </div>

            <button type="button" onclick="adicionarMecanismo()">Adicionar Mecanismo</button>
          </div>

          <div id="editarMecanismo" style="display:none;">
            <label for="select_nomeMecanismo_edit">Escolha um Mecanismo de Dano</label>
            <select name="select_nomeMecanismo_edit" id="select_nomeMecanismo_edit">

            </select>
            <label for="input_nomeMecanismo_edit">Insira um novo nome para o seu Mecanismo de Dano</label>
            <input type="text" id="input_nomeMecanismo_edit"
              placeholder="Insira aqui o nome do Mecanismo de Dano. Exemplo: Corrosão Sob Isolamento">

            <div id="filtros_editar">

            </div>

            <button type="button" onclick="enviarEditarmecanismo()">Atualizar Mecanismo de Dano</button>
            <button type="button" onclick="deletarMecanismo()">Deletar Mecanismo de Dano</button>
          </div>

        </div>
      </section>
    </div>

    <input type="checkbox" id="btn-menu" />
    <div class="container-menu">
      <div class="cont-menu">
        <nav>
          <a href="index.html">Inicio</a>
          <a href="adm.html">Área do administrador</a>
          <a href="main.html">Área MecD</a>
          <a href="fluxograma.html">Fluxogramas</a>
          <a href="#">Sobre</a>
        </nav>
        <label for="btn-menu">✖️</label>
      </div>
    </div>

    <section class="footer" id="footer">
      <div class="links">
        <a href="#">Políticas de Privacidade</a>
        <a href="#">Termos De Uso</a>
        <a href="#">Nossa empresa</a>
      </div>
      <br />
      <p class="copy">&#169; WinxCraft All Right Reserverd.</p>
    </section>
  </main>

</body>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
<script src="scriptADM.js"></script>

</html>